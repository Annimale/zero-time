<div class="container h-full mx-auto">
  <h2 *ngIf="filteredWatches" class="text-lg lg:text-2xl pt-6 lg:pt-10">
    {{ filteredWatches.length }} {{ "shopModelsCount" | translate }}
  </h2>
  <div class="flex flex-col lg:flex-row py-4 lg:py-8">
    <div class="lg:pr-12">
      <div class="FILTERS w-full lg:w-64">
        <!-- Search Input -->
        <div class="mb-4 lg:mb-6">
          <h2 class="font-latoBold text-base lg:text-lg">
            {{ "shopFiltersSearch" | translate }}
          </h2>
          <input
            [(ngModel)]="filters.searchTerm"
            (ngModelChange)="onSearchChange($event)"
            type="text"
            placeholder="Brand, model ..."
            class="w-full p-2 border border-gray-300 focus:border-gray-800 focus:ring-0 rounded text-sm lg:text-base"
          />
        </div>

        <!-- Brand Filters -->
        <div class="mb-4 lg:mb-6">
          <div class="flex justify-between items-center mb-2">
            <h2 class="font-latoBold text-base lg:text-lg">
              {{ "shopFiltersBrand" | translate }}
            </h2>
            <button class="text-xs text-gray-500" (click)="clearBrandFilters()">
              {{ "shopFiltersBrandClear" | translate }}
            </button>
          </div>
          <div class="h-48 lg:h-56 overflow-y-auto">
            <div class="space-y-2 pr-3" *ngFor="let brand of brands">
              <label class="flex justify-between items-center cursor-pointer">
                <span>{{ brand.name }}</span>
                <input
                  type="checkbox"
                  [checked]="filters.selectedBrands.has(brand.id.toString())"
                  (change)="onBrandChange(brand.id, $event)"
                  class="form-checkbox h-4 w-4 lg:h-5 lg:w-5 focus:ring-0 text-gray-600"
                />
              </label>
            </div>
          </div>
        </div>

        <!-- Price Range -->
        <div class="mb-4 lg:mb-6">
          <div class="flex justify-between items-center mb-2">
            <h2 class="font-latoBold text-base lg:text-lg">
              {{ "shopFiltersPrice" | translate }}
            </h2>
          </div>
          <div class="flex">
            <input
              type="range"
              min="0"
              max="100000"
              step="50"
              [(ngModel)]="filters.currentPrice"
              (ngModelChange)="onPriceChange($event)"
              class="w-full"
            />
          </div>
          <div class="flex justify-between text-xs mt-2">
            <span>0 €</span>
            <span>100,000 €</span>
          </div>
          <div class="text-center font-latoBold">
            {{ filters.currentPrice | europeNumber }}
          </div>
        </div>
      </div>
    </div>
    <div
      class="GRID RELOJES w-full grid grid-cols-1 lg:grid-cols-3 gap-6 lg:gap-14 lg:gap-y-16 font-latoRegular"
    >
      <div
        class="WATCHCARD flex flex-col w-full cursor-pointer"
        *ngFor="let watch of filteredWatches"
        (click)="navigateToWatchDetail(watch.id)"
      >
        <div class="w-full pb-4 lg:pb-6">
          <img
            class="object-cover h-[280px] lg:h-[467px] w-full"
            [src]="getCurrentImageUrl(watch)"
            (mouseover)="showNextImage(watch)"
            (mouseleave)="resetImage(watch)"
            alt="watch-image"
          />
        </div>
        <div class="MARCA uppercase font-latoBold text-sm lg:text-base">
          {{ getBrandName(watch.brandID) }}
        </div>
        <div class="MODELO capitalize text-sm lg:text-base">
          {{ watch.model }}
        </div>
        <div class="font-latoBold pt-2 lg:pt-3 text-sm lg:text-base">
          {{ watch.price | europeNumber }}
        </div>
      </div>
    </div>
  </div>
</div>
