<div class="container h-full mx-auto">
  
  <h2 class="text-2xl pt-10">{{ filteredWatches.length }} Modelos</h2>
  <div class="flex flex-row py-8">
    <div class="pr-12">
      <div class="FILTERS  w-64">
        <!-- Search Input -->
        <div class="mb-6">
          <h2 class="font-latoBold">Search</h2>
          <input
            [(ngModel)]="filters.searchTerm"
            (ngModelChange)="onSearchChange($event)"
            type="text"
            placeholder="Brand, model ..."
            class="w-full p-2 border border-gray-300 focus:border-gray-800 focus:ring-0 rounded"
          />
        </div>

        <!-- Brand Filters -->
        <div class="mb-6">
          <div class="flex justify-between items-center mb-2">
            <h2 class="font-latoBold">Brand</h2>
            <button class="text-xs text-gray-500" (click)="clearBrandFilters()">
              Clear
            </button>
          </div>
          <div class="h-56 overflow-y-auto">
            <div class="space-y-2 pr-3" *ngFor="let brand of brands">
              <label class="flex justify-between items-center cursor-pointer">
                <span>{{ brand.name }}</span>
                <input
                  type="checkbox"
                  [checked]="filters.selectedBrands.has(brand.id.toString())"
                  (change)="onBrandChange(brand.id, $event)"
                  class="form-checkbox h-5 w-5 focus:ring-0 text-gray-600"
                />
              </label>
            </div>
          </div>
        </div>

        <!-- Price Range -->
        <!-- Price Range -->
        <div class="mb-6">
          <div class="flex justify-between items-center mb-2">
            <h2 class="font-latoBold">Price</h2>
          </div>
          <div class="flex">
            <input
              type="range"
              min="0"
              max="100000"
              step="50"
              [(ngModel)]="filters.currentPrice"
              (ngModelChange)="onPriceChange($event)"
              class="w-full"
            />
          </div>
          <div class="flex justify-between text-xs mt-2">
            <span>0 €</span>
            <span>100,000 €</span>
          </div>
          <div class="text-center">
            {{ filters.currentPrice | europeNumber }}
          </div>
        </div>
      </div>
    </div>
    <div
      class="GRID RELOJES w-full grid grid-cols-3 gap-14 gap-y-16 font-latoRegular"
    >
      <div
        class="WATCHCARD flex flex-col w-full cursor-pointer"
        *ngFor="let watch of filteredWatches"
        (click)="navigateToWatchDetail(watch.id)"
      >
        <div class="w-full pb-6">
          <img
            class="object-cover h-[467px] w-[373px]"
            [src]="getCurrentImageUrl(watch)"
            (mouseover)="showNextImage(watch)"
            (mouseleave)="resetImage(watch)"
            alt="watch-image"
          />
        </div>
        <div class="MARCA uppercase font-latoBold">
          {{ getBrandName(watch.brandID) }}
        </div>
        <div class="MODELO capitalize" style="min-height: 4rem">
          {{ watch.model }}
        </div>
        <div class="font-latoBold pt-3 mt-auto">
          {{ watch.price | europeNumber }}
        </div>
      </div>
    </div>
  </div>
</div>
